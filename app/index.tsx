import { FlatList, StyleSheet, TextInput, Text } from "react-native"
import { TouchableOpacity } from "react-native-gesture-handler"
import { router } from "expo-router"
import { View } from "../components/Themed"
import Svg, { Path } from "react-native-svg"

export default function () {
  const avaliacoes = [
    { id: 1, nome: "Avaliação 1", alunos: 30, questoes: 15 },
    { id: 2, nome: "Avaliação 2", alunos: 30, questoes: 15 },
    { id: 3, nome: "Avaliação 3", alunos: 30, questoes: 15 },
    { id: 4, nome: "Avaliação 4", alunos: 30, questoes: 15 },
    { id: 5, nome: "Avaliação 5", alunos: 30, questoes: 15 },
    { id: 6, nome: "Avaliação 6", alunos: 30, questoes: 15 },
    { id: 7, nome: "Avaliação 7", alunos: 30, questoes: 15 },
    { id: 8, nome: "Avaliação 8", alunos: 30, questoes: 15 },
    { id: 9, nome: "Avaliação 9", alunos: 30, questoes: 15 },
    { id: 10, nome: "Avaliação 10", alunos: 30, questoes: 15 }
  ]

  return (
    <View style={styles.container}>
      <TextInput
        style={styles.input}
        placeholder="Filtre suas avaliações"
        placeholderTextColor="gray"
      />
      <FlatList
        data={avaliacoes}
        style={styles.list}
        renderItem={avaliacao => (
          <>
            <TouchableOpacity
              key={avaliacao.item.id}
              style={styles.button}
              onPress={() => router.push({ pathname: "/avaliacao/[avaliacaoId]/", params: { avaliacaoId: avaliacao.item.id } })}
            >
              <Text style={{ fontWeight: "bold", fontSize: 22 }}>
                {avaliacao.item.nome}
              </Text>
              <View style={{ backgroundColor: "white", display: "flex", flexDirection: "row", alignItems: "center", gap: 20 }}>
                <View style={{ backgroundColor: "white", display: "flex", flexDirection: "row", alignItems: "center" }}>
                  <Svg width={24} height={24} viewBox="0 0 24 24" fill="none">
                    <Path
                      d="M21.2372 5.28843L12.2372 2.28843C12.0832 2.23711 11.9168 2.23711 11.7628 2.28843L2.76281 5.28843C2.61347 5.33822 2.48358 5.43373 2.39155 5.56144C2.29951 5.68914 2.24999 5.84258 2.25 5.99999V13.5C2.25 13.6989 2.32902 13.8897 2.46967 14.0303C2.61032 14.171 2.80109 14.25 3 14.25C3.19891 14.25 3.38968 14.171 3.53033 14.0303C3.67098 13.8897 3.75 13.6989 3.75 13.5V7.04062L6.89906 8.08968C6.0624 9.44137 5.79634 11.0698 6.15931 12.6175C6.52229 14.1652 7.48462 15.5056 8.835 16.3444C7.1475 17.0062 5.68875 18.2034 4.62187 19.8403C4.56639 19.9228 4.52785 20.0154 4.50849 20.1129C4.48914 20.2104 4.48936 20.3108 4.50913 20.4082C4.52891 20.5056 4.56785 20.5981 4.62369 20.6803C4.67953 20.7626 4.75116 20.8329 4.83441 20.8872C4.91766 20.9415 5.01087 20.9787 5.10863 20.9966C5.20639 21.0146 5.30674 21.0129 5.40386 20.9918C5.50097 20.9706 5.59291 20.9304 5.67433 20.8733C5.75575 20.8163 5.82502 20.7437 5.87813 20.6597C7.29094 18.4922 9.52219 17.25 12 17.25C14.4778 17.25 16.7091 18.4922 18.1219 20.6597C18.2319 20.8232 18.4018 20.9368 18.5949 20.976C18.788 21.0152 18.9888 20.9768 19.1539 20.8692C19.3189 20.7615 19.435 20.5933 19.4769 20.4007C19.5189 20.2082 19.4834 20.0069 19.3781 19.8403C18.3112 18.2034 16.8469 17.0062 15.165 16.3444C16.5141 15.5056 17.4755 14.1661 17.8384 12.6196C18.2013 11.073 17.9361 9.44567 17.1009 8.09437L21.2372 6.71624C21.3866 6.66649 21.5165 6.57099 21.6086 6.44328C21.7006 6.31557 21.7502 6.16212 21.7502 6.00468C21.7502 5.84724 21.7006 5.6938 21.6086 5.56609C21.5165 5.43837 21.3866 5.34287 21.2372 5.29312V5.28843ZM16.5 11.25C16.5002 11.9614 16.3317 12.6628 16.0084 13.2965C15.6851 13.9302 15.2161 14.4782 14.6399 14.8955C14.0638 15.3129 13.3969 15.5877 12.694 15.6974C11.9911 15.8072 11.2722 15.7486 10.5962 15.5267C9.92031 15.3048 9.30663 14.9258 8.80555 14.4207C8.30448 13.9157 7.93028 13.2991 7.71367 12.6214C7.49705 11.9438 7.44419 11.2244 7.55942 10.5224C7.67465 9.82036 7.95469 9.15566 8.37656 8.58281L11.7628 9.70781C11.9168 9.75913 12.0832 9.75913 12.2372 9.70781L15.6234 8.58281C16.1932 9.3553 16.5005 10.2901 16.5 11.25ZM12 8.20968L5.37187 5.99999L12 3.79031L18.6281 5.99999L12 8.20968Z"
                      fill="black"
                    />
                  </Svg>
                  <Text style={{ fontWeight: "bold", fontSize: 20 }}>{avaliacao.item.alunos}</Text>
                </View>
                <View style={{ backgroundColor: "white", display: "flex", flexDirection: "row", alignItems: "center" }}>
                  <Svg width={24} height={24} viewBox="0 0 24 24" fill="none">
                    <Path
                      d="M13.125 16.875C13.125 17.0975 13.059 17.315 12.9354 17.5C12.8118 17.685 12.6361 17.8292 12.4305 17.9144C12.225 17.9995 11.9988 18.0218 11.7805 17.9784C11.5623 17.935 11.3618 17.8278 11.2045 17.6705C11.0472 17.5132 10.94 17.3127 10.8966 17.0945C10.8532 16.8762 10.8755 16.65 10.9606 16.4445C11.0458 16.2389 11.19 16.0632 11.375 15.9396C11.56 15.816 11.7775 15.75 12 15.75C12.2984 15.75 12.5845 15.8685 12.7955 16.0795C13.0065 16.2905 13.125 16.5766 13.125 16.875ZM12 6.75C9.93188 6.75 8.25 8.26406 8.25 10.125V10.5C8.25 10.6989 8.32902 10.8897 8.46967 11.0303C8.61033 11.171 8.80109 11.25 9 11.25C9.19892 11.25 9.38968 11.171 9.53033 11.0303C9.67099 10.8897 9.75 10.6989 9.75 10.5V10.125C9.75 9.09375 10.7597 8.25 12 8.25C13.2403 8.25 14.25 9.09375 14.25 10.125C14.25 11.1562 13.2403 12 12 12C11.8011 12 11.6103 12.079 11.4697 12.2197C11.329 12.3603 11.25 12.5511 11.25 12.75V13.5C11.25 13.6989 11.329 13.8897 11.4697 14.0303C11.6103 14.171 11.8011 14.25 12 14.25C12.1989 14.25 12.3897 14.171 12.5303 14.0303C12.671 13.8897 12.75 13.6989 12.75 13.5V13.4325C14.46 13.1184 15.75 11.7544 15.75 10.125C15.75 8.26406 14.0681 6.75 12 6.75ZM21.75 12C21.75 13.9284 21.1782 15.8134 20.1068 17.4168C19.0355 19.0202 17.5127 20.2699 15.7312 21.0078C13.9496 21.7458 11.9892 21.9389 10.0979 21.5627C8.20656 21.1865 6.46928 20.2579 5.10571 18.8943C3.74215 17.5307 2.81355 15.7934 2.43735 13.9021C2.06114 12.0108 2.25422 10.0504 2.99218 8.26884C3.73013 6.48726 4.97982 4.96451 6.58319 3.89317C8.18657 2.82183 10.0716 2.25 12 2.25C14.585 2.25273 17.0634 3.28084 18.8913 5.10872C20.7192 6.93661 21.7473 9.41498 21.75 12ZM20.25 12C20.25 10.3683 19.7661 8.77325 18.8596 7.41655C17.9531 6.05984 16.6646 5.00242 15.1571 4.37799C13.6497 3.75357 11.9909 3.59019 10.3905 3.90852C8.79017 4.22685 7.32016 5.01259 6.16637 6.16637C5.01259 7.32015 4.22685 8.79016 3.90853 10.3905C3.5902 11.9908 3.75358 13.6496 4.378 15.1571C5.00242 16.6646 6.05984 17.9531 7.41655 18.8596C8.77326 19.7661 10.3683 20.25 12 20.25C14.1873 20.2475 16.2843 19.3775 17.8309 17.8309C19.3775 16.2843 20.2475 14.1873 20.25 12Z"
                      fill="black"
                    />
                  </Svg>
                  <Text style={{ fontWeight: "bold", fontSize: 20 }}>{avaliacao.item.questoes}</Text>
                </View>
              </View>
              <Svg width={24} height={24} viewBox="0 0 24 24" fill="none">
                <Path
                  d="M14.7928 21.4997L20.9063 5.00719L20.911 4.99219C21.0024 4.72672 21.0174 4.44093 20.9544 4.16732C20.8914 3.89372 20.7529 3.64328 20.5546 3.44451C20.3564 3.24573 20.1063 3.1066 19.8328 3.04293C19.5594 2.97927 19.2735 2.99363 19.0078 3.08438C19.0027 3.08552 18.9977 3.08709 18.9928 3.08907L2.50034 9.20719C2.20628 9.30768 1.95135 9.49826 1.77178 9.75189C1.59221 10.0055 1.49712 10.3093 1.50002 10.62V10.6481C1.50244 10.965 1.60662 11.2727 1.79718 11.5259C1.98775 11.7791 2.25462 11.9644 2.55846 12.0544L9.73596 14.2631L11.9447 21.4406C12.0375 21.7422 12.2231 22.0069 12.475 22.1969C12.7269 22.387 13.0323 22.4927 13.3478 22.4992C13.6632 22.5056 13.9727 22.4124 14.2322 22.2328C14.4916 22.0532 14.6878 21.7963 14.7928 21.4988V21.4997ZM13.3781 21L11.1694 13.8225C11.0974 13.5889 10.9694 13.3764 10.7965 13.2035C10.6237 13.0306 10.4112 12.9026 10.1775 12.8306L3.00002 10.6219L3.01596 10.6163L19.5 4.5L13.3856 20.9831L13.38 20.9981L13.3781 21Z"
                  fill="#063CB4"
                />
              </Svg>
            </TouchableOpacity>
            <View style={{ height: 15, backgroundColor: "white" }} />
          </>
        )}
      />
    </View>
  )
}

const styles = StyleSheet.create({
  container: {
    padding: 20,
    display: "flex",
    flexDirection: "column",
    gap: 2,
    backgroundColor: "white",
  },
  list: {
    backgroundColor: "white"
  },
  button: {
    padding: 13,
    backgroundColor: "white",
    borderRadius: 5,
    borderColor: "#063CB4",
    borderWidth: 1,
    display: "flex",
    borderTopRightRadius: 10,
    borderTopLeftRadius: 10,
    borderBottomRightRadius: 10,
    borderBottomLeftRadius: 10,
    flexDirection: "row",
    justifyContent: "space-between"
  },
  input: {
    borderColor: "gray",
    borderWidth: 2,
    padding: 14,
    fontWeight: "bold",
    fontSize: 17,
    borderRadius: 5,
    backgroundColor: "white"
  },
});
